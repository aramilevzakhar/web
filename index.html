<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

		<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue-clipboards@1.2.4/dist/vue-clipboards.min.js"></script>

		<title>Video Streaming With Node</title>
		<!--
		<style>
			#video {
				/* margin: 5% auto; */
				/* max-width: 100%; */
				background-color: rgb(14, 14, 14);
				/*
				padding-top: 10%;
				padding-left: 35%;
				*/
				margin-left: 5%;
				margin-right: 5%;
			}
		</style>
		-->
	</head>

	<body class="bg-dark">
		<div class="container-fluid">
			<div class="row">

				<div class="d-flex justify-content-center bg-dark col">
					<video class="w-50" controls muted autoplay>
						<source src="/video1" type="video/mp4" />
					</video>
				</div>
				<div class='w-100'></div>

				<div class="d-flex justify-content-center bg-dark col">

					<div id="s1" class="w-50 input-group">
						<!--
						<input class="shadow-none form-control border border-dark" v-model:value="value_name" type="text" placeholder="example.com">
						-->

						<select class="form-select" v-model="movie">
							<option selected>Open this select menu</option>
							<option>1.mp4</option>
							<option>2.mp4</option>
							<option>3.mp4</option>
							<option>4.mp4</option>
							<option>5.mp4</option>
							<option>6.mp4</option>
						</select>


						<div class="input-group-prepend">
							<input class="shadow-none btn btn-secondary rounded-right" v-on:click="send1()" type="button" value="сократить">
						</div>

						<span class="text-dark">Selected: {{ movie }}</span>


					</div>

				</div>
			</div>
		</div>
	</body>

	<script>
	var app = new Vue({
		el: '#s1',

		data: {
			movie: ''
		},

		methods: {
			send1: async () => {
				sending_data = { 'movie': app.movie };


				/*
				if (sending_data.url.length < 3) {
					alert("Размер ссылки слишком мал: " + sending_data.url.length);

				} else if (sending_data.url.length > 255) {
					alert("Размер ссылки слишком велик: " + sending_data.url.length);

				*/
				// alert(sending_data)

				let response = await fetch('http://localhost:8000/save', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json;charset=utf-8'
					},
					body: JSON.stringify(sending_data)

				}).then(response => response.json());

				location.reload();

			}
		}
	});
	</script>
</html>

<!--
<!DOCTYPE html>
<head>
  <link href="https://vjs.zencdn.net/7.11.4/video-js.css" rel="stylesheet" />

	<meta charset="utf-8">
</head>


<body>
  <video
    id="my-video"
    class="video-js"
    controls="false"
		loop="true"
    preload="auto"
    width="640"
    height="264"
    poster="193596.jpg"
    data-setup="{}"
    playsinline>
    <source src="1.mp4" type="video/mp4" />
    <p class="vjs-no-js">
      To view this video please enable JavaScript, and consider upgrading to a
      web browser that
      <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
    </p>
  </video>

  <script src="https://vjs.zencdn.net/7.11.4/video.min.js"></script>
</body>
-->
